# 프로그레시브 렌더링

점진적 렌더링(Progressive Rendering)은 서버에서 웹 페이지의 일부를 순차적으로 렌더링하고 전체 페이지가 렌더링 될 때까지 기다리지 않고, 부분적으로 클라이언트에 스트리밍하는 기술을 말한다.

- PR(또는 PSSR)은 서버에서 중요한 컨텐츠를 렌더링한 후, 중요하지 않은 콘텐츠를 기다리지 않고 클라이언트로 스트리밍하는 기술
- 이후 서버에서 렌더링되면 나중에 중요하지 않은 콘텐츠를 스트리밍.
- 브라우저는 중요한 콘텐츠에 대한 chunk가 수신되는 즉시 페이지에서 HTML을 점진적으로 렌더링 (페인트)하기 시작한다.
- 브라우저가 서버에서 수신 할 때 중요하지 않은 콘텐츠는 나중에 페이지에서 렌더링 (페인트)된다.

## 동작

PSSR의 일반적인 페이지로드는 다음과 같이 동작한다.

1. 브라우저, 서버에 HTML 요청
2. 서버에서 API request 생성 후, 중요 콘텐츠 우선 렌더링하고 브라우저로 스트리밍
3. 브라우저, HTML 청크 로드 후 렌더링(paint)
4. 서버에서 중요하지 않은 컨텐츠를 렌더링하여 클라이언트로 스트리밍
5. 브라우저, 나중에 중요하지 않은 컨텐츠 수신하고 렌더링(paint)
6. 전체 페이지 로드 후, 브라우저는 일반적으로 이벤트 핸들러 및 기타 상호작용 동작을 연결하는 DOM element에 대한 상호 작용 수행

PR은 CSR과 SSR의 이점을 연결한다. API는 서버에 함께있기 때문에 컨텐츠가 빠르게 렌더링되는 동시에, 덜 중요한 컨텐츠를 기다리지 않고도 중요 콘텐츠를 빠르게 렌더링 할 수 있다.

즉, PR을 사용하면 JavaScript를 사용하여 컨텐츠를 로드하지 않고도 비동기식으로 사이트를 더 빠르게 로드 할 수 있다.

### 장점

- 서버에서 중요한 컨텐츠를 먼저 클라이언트로 스트리밍
- JavaScript bundle을 로드하는데 걸리는 시간에 컨텐츠 미차단
- CSR과 SSR보다 빠른 페이지 로드

### 단점

- 컨텐츠가 빠르게 표시 되더라도 중요하지 않은 콘텐츠가 로드된 후, 상호 작용 활성화
- PR이 확립된 프레임워크가 없으며, 웹 애플리케이션의 한계에 대한 의존도 높음

---

### 참고

- https://velog.io/@bisu8018/%EC%A0%90%EC%A7%84%EC%A0%81-%EB%A0%8C%EB%8D%94%EB%A7%81Progressive-Rendering-%EC%9D%B4%EB%9E%80
